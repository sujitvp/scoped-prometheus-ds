{"version":3,"file":"queryparser.js","sourceRoot":"","sources":["queryparser.ts"],"names":["ScopedPrometheusQueryParser","ScopedPrometheusQueryParser.constructor","ScopedPrometheusQueryParser.saveText","ScopedPrometheusQueryParser.retrieveText","ScopedPrometheusQueryParser.parseFunctions","ScopedPrometheusQueryParser.parseQuery","ScopedPrometheusQueryParser.parseSegment","ScopedPrometheusQueryParser.processStuff","ScopedPrometheusQueryParser.processOps","Optimizer","Optimizer.constructor","Optimizer.swap"],"mappings":"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A,CAACA,CAACA,CAACA,CAACA;wBACzEA,CAACA;wBACDA,IAAIA,CAACA,GAAGA,IAAIA,SAASA,CAACA,KAAKA,EAAEA,KAAIA,CAACA,OAAOA,CAACA,CAACA;wBAC3CA,IAAIA,GAAGA,GAAGA,KAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,OAAOA,CAACA,KAAIA,CAACA,OAAOA,EAAEA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,OAAOA,CAACA,SAASA,EAAEA,KAAKA,CAACA,CAACA;wBACrFA,OAAOA,CAACA,OAAOA,CAACA,mBAAmBA,CAACA,CAACA;wBACrCA,MAAMA,CAACA,GAAGA,CAACA;oBACbA,CAACA,CAAAA;oBAhBCA,OAAOA,CAACA,KAAKA,CAACA,2CAA2CA,CAACA,CAACA;gBAC7DA,CAACA;gBAiBOD,8CAAQA,GAAhBA,UAAiBA,CAASA;oBACxBE,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA;wBAACA,IAAIA,CAACA,MAAMA,GAACA,EAAEA,CAACA;oBACjCA,OAAOA,IAAIA,EAAEA,CAACA;wBACZA,IAAIA,GAAGA,GAAGA,MAAMA,GAAGA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA,CAACA,IAAIA,IAAIA,EAAEA,CAACA,CAACA,OAAOA,EAAEA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,EAAEA,CAACA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,GAAGA,MAAMA,CAACA;wBACtHA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;4BACpCA,IAAIA,CAACA,MAAMA,CAACA,GAAGA,CAACA,GAAGA,CAACA,CAACA;4BACtBA,MAAMA,CAACA,GAAGA,CAACA;wBACbA,CAACA;oBACHA,CAACA;gBACHA,CAACA;gBAEOF,kDAAYA,GAApBA,UAAsBA,CAASA;oBAC7BG,OAAOA,CAACA,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,cAAcA,CAACA,CAACA,CAACA,CAACA,CAACA;oBAC9CA,EAAEA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA,cAAcA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBAClCA,IAAIA,GAAGA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA;wBACzBA,OAAOA,IAAIA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA;wBACtBA,MAAMA,CAACA,GAAGA,CAACA;oBACbA,CAACA;gBACHA,CAACA;gBAEOH,oDAAcA,GAAtBA;oBACEI,0CAA0CA;oBAC1CA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,SAASA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAE5CA,CAACA;oBACDA,EAAEA,CAACA,CAACA,SAASA,CAACA,CAACA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA;wBACxBA,gCAAgCA;wBAChCA,EAAEA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACtCA,wDAAwDA;4BACxDA,MAAMA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA;wBACtBA,CAACA;wBAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,IAAIA,IAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACpFA,0GAA0GA;4BAC1GA,MAAMA,CAACA,SAASA,CAACA,CAACA,CAACA,GAAGA,GAAGA,GAAGA,IAAIA,CAACA,YAAYA,CAACA,SAASA,CAACA,CAACA,CAACA,EAAEA,IAAIA,CAACA,GAAGA,GAAGA,CAACA;wBAC1EA,CAACA;oBACHA,CAACA;oBAACA,IAAIA,CAACA,CAACA;wBACNA,0DAA0DA;wBAC1DA,MAAMA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,YAAYA,CAACA,SAASA,CAACA,CAACA,CAACA,EAAEA,IAAIA,CAACA,GAAGA,GAAGA,CAACA;oBAC3DA,CAACA;gBACHA,CAACA;;gBAEOJ,gDAAUA,GAAlBA,UAAmBA,CAASA,EAAEA,CAAUA;oBACtCK,IAAIA,KAAKA,GAAGA,EAAEA,CAACA;oBACfA,KAAKA,CAACA,MAAMA,CAACA,GAACA,CAACA,CAACA;oBAChBA,KAAKA,CAACA,KAAKA,CAACA,GAACA,CAACA,CAACA;oBAEfA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;wBACxCA,EAAEA,CAACA,CAACA,KAAKA,CAACA,cAAcA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACxCA,IAAIA,CAACA,CAACA;4BACNA,EAAEA,CAACA,CAACA,CAACA,CAACA,GAAIA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAAYA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,KAAKA,IAAIA,CAACA,CAACA,CAACA;gCACrDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,CAACA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gCAEpCA,CAACA;gCACDA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,EAAEA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;gCAC5CA,EAAEA,CAACA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;oCAACA,KAAKA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA;gCAC5CA,EAAEA,CAACA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;oCAACA,OAAOA,KAAKA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BAEjDA,CAACA;4BAACA,IAAIA,CAACA,CAACA;4BAERA,CAACA;wBACHA,CAACA;oBACHA,CAACA;oBACDA,MAAMA,CAACA,CAACA,CAACA;gBACXA,CAACA;;gBAEOL,kDAAYA,GAApBA,UAAsBA,CAACA,EAAEA,CAACA;oBACxBM,kDAAkDA;oBAClDA,CAACA,GAAGA,CAACA,GAAGA,GAAGA,CAACA;oBACZA,qDAAqDA;oBACrDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBACtBA,oHAAoHA;wBACpHA,qDAAqDA;wBACrDA,iCAAiCA;wBACjCA,IAAIA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,aAAaA;wBAC5CA,IAAIA,CAACA,GAAGA,CAACA,CAACA,KAAKA,IAAIA,CAACA,GAAGA,CAACA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA;wBACrCA,IAAIA,CAACA,GAAGA,CAACA,CAACA;wBACVA,IAAIA,EAAEA,GAAGA,EAAEA,CAACA;wBACZA,2DAA2DA;wBAC3DA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;4BAC3BA,gDAAgDA;4BAChDA,2EAA2EA;4BAC3EA,IAAIA,CAACA,GAAGA,CAACA,CAACA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,iBAAiBA;4BACjDA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;gCACVA,gDAAgDA;gCAChDA,4DAA4DA;gCAC5DA,EAAEA,GAAGA,EAAEA,GAAGA,IAAIA,CAACA,YAAYA,CAACA,CAACA,CAACA,KAAKA,CAACA,CAACA,EAAEA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;4BAChDA,CAACA;4BACDA,yBAAyBA;4BACzBA,uDAAuDA;4BACvDA,EAAEA,GAAGA,EAAEA,GAAGA,IAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;4BACnCA,iFAAiFA;4BACjFA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA;wBAE/BA,CAACA;wBAEDA,qFAAqFA;wBACrFA,kGAAkGA;wBAClGA,yCAAyCA;wBACzCA,EAAEA,CAACA,CAACA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA;4BACbA,EAAEA,GAAGA,EAAEA,GAAGA,IAAIA,CAACA,YAAYA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;wBACpCA,CAACA;wBACDA,0DAA0DA;wBAC1DA,MAAMA,CAACA,EAAEA,CAACA;oBACZA,CAACA;oBAACA,IAAIA,CAACA,CAACA;wBACNA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;oBAC/BA,CAACA;gBACHA,CAACA;;gBAEON,kDAAYA,GAApBA,UAAsBA,CAACA,EAAEA,CAACA;oBACxBO,gEAAgEA;oBAChEA,CAACA,GAAGA,CAACA,GAAGA,GAAGA,CAACA;oBACZA,mBAAmBA;oBACnBA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;oBACXA,EAAEA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,CAACA,EAAEA,CAACA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,CAACA,EAAEA,CAACA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA;wBAACA,EAAEA,GAAGA,IAAIA,CAACA,UAAUA,CAACA,EAAEA,CAACA,CAACA;oBAChGA,0DAA0DA;oBAC1DA,MAAMA,CAACA,EAAEA,CAACA;gBACZA,CAACA;;gBAEOP,gDAAUA,GAAlBA,UAAoBA,CAACA;oBACnBQ,IAAIA,CAACA,GAAGA,KAAKA,CAACA;oBACdA,8DAA8DA;oBAC9DA,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,IAAIA,CAACA;oBACnBA,IAAIA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA,EAAEA,CAACA,CAACA,CAACA,aAAaA;oBAClCA,IAAIA,CAACA,GAAGA,CAACA,CAACA,KAAKA,IAAIA,CAACA,GAAGA,CAACA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA;oBACrCA,IAAIA,CAACA,GAAGA,CAACA,CAACA;oBACVA,IAAIA,EAAEA,GAAGA,EAAEA,CAACA;oBACZA,qFAAqFA;oBACrFA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;wBAC3BA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,IAAIA,CAACA;4BAACA,KAAKA,CAACA;wBACxBA,gDAAgDA;wBAChDA,sEAAsEA;wBACtEA,IAAIA,CAACA,GAAGA,CAACA,CAACA,MAAMA,CAACA,EAAEA,CAACA,CAACA,CAACA,iBAAiBA;wBACvCA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;4BACVA,IAAIA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;4BACtBA,gDAAgDA;4BAChDA,qEAAqEA;4BACrEA,EAAEA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;gCACxBA,EAAEA,GAAGA,EAAEA,GAAGA,CAACA,CAACA;4BACdA,CAACA;4BAACA,IAAIA,CAACA,CAACA;gCACNA,EAAEA,GAAGA,EAAEA,GAAGA,IAAIA,CAACA,UAAUA,CAACA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,CAACA;4BACzCA,CAACA;wBACHA,CAACA;wBACDA,EAAEA,GAAGA,EAAEA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA;wBACfA,iFAAiFA;wBACjFA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA;oBAE/BA,CAACA;oBACDA,EAAEA,CAACA,CAACA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA;wBACbA,EAAEA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACxBA,EAAEA,GAAGA,EAAEA,GAAGA,CAACA,CAACA;wBACdA,CAACA;wBAACA,IAAIA,CAACA,CAACA;4BACNA,EAAEA,GAAGA,EAAEA,GAAGA,IAAIA,CAACA,UAAUA,CAACA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,CAACA;wBACzCA,CAACA;oBACHA,CAACA;oBACDA,wDAAwDA;oBACxDA,MAAMA,CAACA,EAAEA,CAACA;gBACZA,CAACA;;gBAEHR,kCAACA;YAADA,CAACA,AAnND,IAmNC;YAnND,iDAmNC,CAAA;YAED;gBAIES,mBAAYA,EAAUA,EAAEA,EAAUA;oBAChCC,IAAIA,CAACA,IAAIA,GAAGA,EAAEA,CAACA,KAAKA,CAACA,EAAEA,CAACA,CAACA;oBACzBA,IAAIA,CAACA,OAAOA,GAAGA,CAACA,CAACA;gBACnBA,CAACA;gBAEDD,wBAAIA,GAAJA;oBACEE,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,EAAEA,CAACA,CAACA;gBACnCA,CAACA;gBACHF,gBAACA;YAADA,CAACA,AAZD,IAYC"}